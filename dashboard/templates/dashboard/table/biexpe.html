{% extends 'dashboard/elements/layouts/admin.html' %}

{% load static %}

{% block additional_css %}
{% endblock %}

{% block content %}
        
    <!-- main -->
        <div class="row">
            <div class="col-xl-12 col-md-6">

                        
                <div class="card">
                    <div class="card-header border-0 pb-0">
                        <h4>EXPENSES BY CATEGORY</h4>
						<form method="get">
							<input class="form-control input-daterange-datepicker" type="text" name="daterange" value="01/01/2022 - 01/31/2030">
							<span><input type="submit" class="btn btn-outline-dark btn-lg"></span>
						</form>
                    </div>

                    <div class="card-body">
                        <div id="expchart"></div>
                        
                    </div>	
                </div>
            </div>
        </div>








{% endblock %}

{% block additional_js %}


<script>

</script>




<script>

(function($) {
    /* "use strict" */
	
 var dlabChartlist = function(){
	 
	var screenWidth = $(window).width();
	
	
	 var expchart = function() {
		var options = {
			series: [{{emp|floatformat:1}}, {{wage|floatformat:1}}, {{lead|floatformat:1}}, {{offic|floatformat:1}}, {{others|floatformat:1}}, {{taxes|floatformat:0}}, {{wage_ceo|floatformat:0}}],
			chart: {
			  type: 'donut',
			  height: 500
			},
			dataLabels: {
			  enabled: false,
			  formatter: function(val, opts) {
				return val + '%'
			  },
			  style: {
				fontSize: '12px',
				colors: ['#fff'],
		  
			  },
			  dropShadow: {
				enabled: false,
			  }
			},
			stroke: {
			  width: 0,
			},
			colors: ['#FEC64F', '#e35b17', '#17e3e3', '#e31739', '#171ee3', '#c417e3', '#14b57d'],
			legend: {
			  position: 'bottom',
			  show: true,
			  labels: {
				useSeriesColors: false,
				colors: ['#FEC64F', '#e35b17', '#17e3e3', '#e31739', '#171ee3', '#c417e3', '#14b57d'],
				formatter: function(seriesName, opts) {
				  return opts.w.globals.labels[opts.seriesIndex] + ": " + seriesName + "%";
				}
			  }
			},
			labels: ['Empresa {{emp|floatformat:-1}} %', 'Wages {{wage|floatformat:-1}} %', 'LeadGen {{lead|floatformat:-1}} %', 'Office {{offic|floatformat:-1}} %', 'Others {{others|floatformat:-1}} %', 'Taxes {{taxes|floatformat:-1}} %', 'Wages CEO {{wage_ceo|floatformat:-1}} %'],
			responsive: [{
				breakpoint: 1800,
				options: {
				  chart: {
					height: 400
				  },
				}
			  }, {
				breakpoint: 1200,
				options: {
				  chart: {
					height: 300
				  },
				}
			  }, {
				breakpoint: 600,
				options: {
				  chart: {
					height: 200
				  },
				}
			  }]
			  
		  };
		  
		var chart = new ApexCharts(document.querySelector("#expchart"), options);
		chart.render();
	}
 
	/* Function ============ */
	return {
		init:function(){
		},
		
		
		load:function(){
			expchart();
		},
		
		resize:function(){
		}
	}

}();

jQuery(window).on('load',function(){
	setTimeout(function(){
		dlabChartlist.load();
	}, 1000); 
	
});

})(jQuery);
</script>
{% endblock %}
